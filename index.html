<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0f0f23">
    <meta name="description" content="AI-Powered Second Brain - Your personal productivity system">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <title>Second Brain</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- App Container -->
    <div id="app">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">ğŸ§ </span>
                    <span class="logo-text">Second Brain</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12h18M3 6h18M3 18h18"/>
                    </svg>
                </button>
            </div>
            
            <ul class="nav-links">
                <li class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span class="nav-label">Dashboard</span>
                </li>
                <li class="nav-item" data-page="inbox">
                    <span class="nav-icon">ğŸ“¥</span>
                    <span class="nav-label">Inbox</span>
                    <span class="nav-badge" id="inboxBadge">0</span>
                </li>
                <li class="nav-item" data-page="projects">
                    <span class="nav-icon">ğŸ“‹</span>
                    <span class="nav-label">Projects</span>
                </li>
                <li class="nav-item" data-page="tasks">
                    <span class="nav-icon">âœ…</span>
                    <span class="nav-label">Tasks</span>
                </li>
                <li class="nav-item" data-page="ideas">
                    <span class="nav-icon">ğŸ’¡</span>
                    <span class="nav-label">Ideas</span>
                </li>
                <li class="nav-item" data-page="contacts">
                    <span class="nav-icon">ğŸ‘¥</span>
                    <span class="nav-label">Contacts</span>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <button class="ai-toggle" id="aiToggle">
                    <span class="nav-icon">ğŸ¤–</span>
                    <span class="nav-label">AI Assistant</span>
                </button>
                <button class="settings-btn" id="settingsBtn">
                    <span class="nav-icon">âš™ï¸</span>
                    <span class="nav-label">Settings</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Page Header -->
            <header class="page-header">
                <div class="header-left">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18M3 6h18M3 18h18"/>
                        </svg>
                    </button>
                    <h1 class="page-title" id="pageTitle">Dashboard</h1>
                </div>
                <div class="header-right">
                    <div class="search-box">
                        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                        </svg>
                        <input type="text" id="searchInput" placeholder="Search... (Ctrl+/)">
                    </div>
                    <div class="current-time" id="currentTime"></div>
                </div>
            </header>

            <!-- Dynamic Page Content -->
            <div class="page-content" id="pageContent">
                <!-- Content loaded dynamically -->
            </div>
        </main>

        <!-- AI Assistant Panel -->
        <aside class="ai-panel" id="aiPanel">
            <div class="ai-header">
                <h2>ğŸ¤– AI Assistant</h2>
                <button class="ai-close" id="aiClose">Ã—</button>
            </div>
            <div class="ai-messages" id="aiMessages">
                <div class="ai-message assistant">
                    <p>Hello! I'm your AI assistant. I can help you:</p>
                    <ul>
                        <li>ğŸ“ Summarize your notes</li>
                        <li>ğŸ¯ Prioritize your tasks</li>
                        <li>ğŸ’¡ Expand on your ideas</li>
                        <li>ğŸ“Š Create daily briefings</li>
                    </ul>
                    <p>What would you like help with?</p>
                </div>
            </div>
            <div class="ai-quick-actions">
                <button class="quick-action" data-action="summarize">ğŸ“ Summarize Today</button>
                <button class="quick-action" data-action="prioritize">ğŸ¯ Prioritize Tasks</button>
                <button class="quick-action" data-action="expand">ğŸ’¡ Expand Ideas</button>
            </div>
            <div class="ai-input-area">
                <input type="text" id="aiInput" placeholder="Ask me anything...">
                <button class="ai-send" id="aiSend">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m22 2-7 20-4-9-9-4 20-7z"/><path d="M22 2 11 13"/>
                    </svg>
                </button>
            </div>
            <div class="ai-settings">
                <details>
                    <summary>âš™ï¸ API Settings</summary>
                    <div class="api-settings-content">
                        <label>OpenAI API Key (optional):</label>
                        <input type="password" id="apiKeyInput" placeholder="sk-...">
                        <button id="saveApiKey" class="btn-small">Save</button>
                        <p class="api-note">Without an API key, AI uses simulated responses.</p>
                    </div>
                </details>
            </div>
        </aside>

        <!-- Quick Capture Modal -->
        <div class="modal-overlay" id="captureModal">
            <div class="capture-modal">
                <div class="capture-header">
                    <span class="capture-icon">âš¡</span>
                    <span>Quick Capture</span>
                    <kbd>Ctrl+K</kbd>
                </div>
                <input type="text" id="captureInput" placeholder="What's on your mind?" autocomplete="off">
                <div class="capture-hints">
                    <span class="hint"><kbd>Enter</kbd> to save</span>
                    <span class="hint"><kbd>Esc</kbd> to close</span>
                </div>
                <div class="capture-type-selector">
                    <button class="type-btn active" data-type="thought">ğŸ’­ Thought</button>
                    <button class="type-btn" data-type="task">âœ… Task</button>
                    <button class="type-btn" data-type="idea">ğŸ’¡ Idea</button>
                    <button class="type-btn" data-type="link">ğŸ”— Link</button>
                </div>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button class="fab" id="fabBtn" title="Quick Capture (Ctrl+K)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M12 5v14M5 12h14"/>
            </svg>
        </button>

        <!-- Settings Modal -->
        <div class="modal-overlay" id="settingsModal">
            <div class="settings-modal">
                <div class="modal-header">
                    <h2>âš™ï¸ Settings</h2>
                    <button class="modal-close" id="settingsClose">Ã—</button>
                </div>
                <div class="settings-content">
                    <div class="setting-group">
                        <h3>ğŸ¨ Appearance</h3>
                        <label class="toggle-setting">
                            <span>Dark Mode</span>
                            <input type="checkbox" id="darkModeToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-group">
                        <h3>ğŸ“¤ Data Management</h3>
                        <button class="btn-secondary" id="exportData">Export All Data</button>
                        <button class="btn-secondary" id="importData">Import Data</button>
                        <input type="file" id="importFile" accept=".json" style="display:none">
                        <button class="btn-danger" id="clearData">Clear All Data</button>
                    </div>
                    <div class="setting-group">
                        <h3>ğŸ“± Install App</h3>
                        <p class="setting-note">Install Second Brain as an app on your device for quick access!</p>
                        <button class="btn-primary" id="installBtn" style="display:none">Install App</button>
                        <p class="install-note" id="installNote">Open in Chrome and look for "Install" in the menu, or this button will appear when available.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="toast-container" id="toastContainer"></div>
    </div>

    <script src="app.js" type="module"></script>
</body>
</html>
